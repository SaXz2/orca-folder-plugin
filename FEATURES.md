# 文档树插件功能列表

## 📋 核心功能

### 1. 文档树管理
- ✅ 创建笔记本（Notebook）
- ✅ 创建文件夹（Folder）
- ✅ 创建文档（Document）
- ✅ 重命名项目（笔记本/文件夹/文档）
- ✅ 删除项目（笔记本/文件夹/文档）
- ✅ 拖拽排序（支持笔记本和文档的拖拽重排）

### 2. 显示与展开/折叠
- ✅ 根块显示子块数量（在根级项目名称后显示子项数量，如：`笔记本名称 (5)`）
- ✅ 一键折叠全部：折叠所有展开的笔记本和文件夹
- ✅ 一键展开全部：展开所有有子项的笔记本和文件夹
- ✅ 折叠其他：折叠除当前选中项路径外的所有展开项目
- ✅ 展开/折叠单个项目（点击展开图标或中键点击）

### 3. 聚焦功能
- ✅ 聚焦文档：聚焦到指定文档，仅显示从根到该文档的路径
- ✅ 聚焦并折叠其他：聚焦到文档，同时折叠其他不在路径上的项目
- ✅ 退出聚焦：退出聚焦模式，恢复正常视图
- ✅ 聚焦到当前：快速聚焦到当前选中的项目并折叠其他

### 4. 笔记本关闭功能
- ✅ 关闭笔记本：将笔记本移到"已关闭的笔记本"区域
- ✅ 已关闭的笔记本区域：在文档树底部显示所有已关闭的笔记本
- ✅ 恢复笔记本：从"已关闭的笔记本"区域恢复笔记本到正常位置
- ✅ 已关闭区域展开/折叠：可以展开查看所有关闭的笔记本，或折叠隐藏
- ✅ 显示关闭数量：在"已关闭的笔记本"标题旁显示关闭的笔记本数量

### 5. 交互功能
- ✅ 左键点击：选择项目，文档类型可跳转到对应块
- ✅ 中键点击：快速展开/折叠（笔记本和文件夹）
- ✅ 右键菜单：提供快捷操作菜单
  - 新建文件夹
  - 聚焦/退出聚焦
  - 聚焦并折叠其他
  - 关闭/恢复笔记本
  - 重命名
  - 删除
- ✅ 拖拽操作：支持从编辑器拖拽块创建文档，拖拽文档调整顺序

### 6. 持久化
- ✅ 展开状态保存：记住哪些项目是展开的
- ✅ 选中状态保存：记住当前选中的项目
- ✅ 关闭状态保存：记住哪些笔记本已关闭
- ✅ 项目数据保存：保存所有笔记本、文件夹和文档的信息

### 7. 图标与样式
- ✅ 自动图标识别：根据块类型自动识别并显示对应图标
- ✅ 自定义图标支持：支持 Tabler Icons 和 Emoji 图标
- ✅ 图标更新：自动更新文档图标
- ✅ Obsidian 风格 UI：简洁现代的界面设计

### 8. 特殊功能
- ✅ 查询块支持：支持查询块作为文件夹
- ✅ 块引用显示：显示包含于列表
- ✅ 文档嵌套：支持文档作为文件夹，包含子文档
- ✅ 根级文档：支持文档和笔记本同级的根级结构

## 🎯 使用场景

### 场景 1：整理大量笔记本
使用"关闭笔记本"功能将不常用的笔记本移到"已关闭的笔记本"区域，保持文档树整洁。

### 场景 2：快速定位特定文档
使用"聚焦"功能快速聚焦到目标文档，隐藏其他无关内容，提高效率。

### 场景 3：批量展开/折叠
使用"展开全部"或"折叠全部"按钮快速管理整个文档树的展开状态。

### 场景 4：整理文档结构
通过拖拽操作快速调整文档和文件夹的顺序，重新组织文档树结构。

## 🔧 技术特性

- TypeScript 编写，类型安全
- 模块化设计，易于维护
- 持久化存储，数据安全
- 响应式 UI，流畅交互
- 可扩展架构，方便扩展新功能

## 📝 待实现功能

- ⏳ 局部自然排序功能
- 🔄 更多功能待添加...

---

*最后更新：2024年*

